<div class="row">
  <div class="d-flex align-items-center">
    <button class="align-items-center btn col" (click)="showMeals = !showMeals">
      <div class="d-flex justify-content-between">
        <h4 class="">
          {{ day | dayOfWeek }}
        </h4>
      </div>
      <ul
        class="list-group list-group-flush list-group-horizontal flex-wrap"
        [ngClass]="{ 'border-bottom': showMeals }"
      >
        <li
          *ngFor="
            let macro of getDailyMacros((getMeals() | async) || []);
            let i = index
          "
          class="list-group-item w-25 text-start flex-fill border-0 p-0 d-md-flex align-items-end"
        >
          <div class="fw-semibold me-2">{{ macro.name | nutrient }}</div>
          <span class="fs-5 fw-normal me-1">{{ macro.amount }} </span>
          <span class="">
            {{ macro.unit }}
          </span>
        </li>
      </ul>
    </button>
    <button
      type="button"
      class="btn align-self-start p-1"
      data-bs-toggle="modal"
      data-bs-target="#macrosModal"
      (click)="changeMacroDay()"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="currentColor"
        class="bi bi-sliders"
        viewBox="0 0 16 16"
      >
        <path
          fill-rule="evenodd"
          d="M11.5 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3M9.05 3a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0V3zM4.5 7a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3M2.05 8a2.5 2.5 0 0 1 4.9 0H16v1H6.95a2.5 2.5 0 0 1-4.9 0H0V8zm9.45 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3m-2.45 1a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0v-1z"
        />
      </svg>
    </button>
  </div>
  <ol
    class="list-group list-group-flush"
    [ngStyle]="{
      height: getListHeight((getDailyMealIds() | async) || []),
    }"
  >
    <li
      *ngFor="let mealId of getDailyMealIds() | async; let i = index"
      class="list-group-item"
    >
      <app-planned-meal
        [mealId]="mealId"
        [day]="day"
        [week]="getWeek()"
        [position]="i"
      ></app-planned-meal>
    </li>
    <li class="list-group-item border-0 mt-auto">
      <a
        routerLink="/meals"
        class="btn btn-success col-2 d-md-flex gap-2 align-items-center justify-content-center"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="currentColor"
          class="bi bi-calendar-plus"
          viewBox="0 0 16 16"
        >
          <path
            d="M8 7a.5.5 0 0 1 .5.5V9H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V10H6a.5.5 0 0 1 0-1h1.5V7.5A.5.5 0 0 1 8 7"
          />
          <path
            d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"
          />
        </svg>
        Add
      </a>
    </li>
  </ol>
</div>
